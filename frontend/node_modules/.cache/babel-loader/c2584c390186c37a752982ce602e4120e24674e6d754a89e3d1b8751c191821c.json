{"ast":null,"code":"/* import React, { useState } from 'react';\nimport * as Yup from 'yup';\nimport Header from '../components/header/Header';\nimport Footer from '../components/footer/Footer';\nimport API from '../context/Api';\n\nfunction Login() {\n  const [formData, setFormData] = useState({\n    username: '',\n    password: '',\n  });\n\n  const [errors, setErrors] = useState({\n    username: '',\n    password: '',\n  });\n\n  const [loggedIn, setLoggedIn] = useState(false);\n\n  const schema = Yup.object().shape({\n    username: Yup.string().required('Username es obligatorio'),\n    password: Yup.string()\n      .required('Password es obligatorio')\n      .matches(\n        /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,}$/,\n        'Password debe cumplir los requisitos de seguridad.'\n      ),\n  });\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    try {\n      await schema.validate(formData, { abortEarly: false });\n\n      const response = await API.postLogin(formData);\n\n      if (response.success) {\n        const responseData = response.data;\n        API.storeToken(responseData.token);\n        setLoggedIn(true);\n      } else {\n        setErrors({\n          username: '',\n          password: 'Credenciales inválidas',\n        });\n      }\n    } catch (validationErrors) {\n      const errors = {};\n      validationErrors.inner.forEach((error) => {\n        errors[error.path] = error.message;\n      });\n      setErrors(errors);\n    }\n  };\n\n  if (loggedIn) {\n    window.location.href = '/listforms';\n    return null;\n  }\n\n  return (\n    <>\n      <Header />\n      <div className=\"container mt-5 d-flex justify-content-center align-items-center\" style={{ minHeight: '70vh' }}>\n        <div className=\"card w-100\" style={{ maxWidth: '400px' }}>\n          <div className=\"card-header bg-dark text-white text-center\">\n            <h4 className=\"mb-0\">Login</h4>\n          </div>\n          <div className=\"card-body\">\n            <form onSubmit={handleSubmit}>\n              <div className=\"mb-3\">\n                <label htmlFor=\"username\" className=\"form-label\">\n                  Username\n                </label>\n                <input\n                  type=\"text\"\n                  className={`form-control ${errors.username ? 'is-invalid' : ''}`}\n                  id=\"username\"\n                  placeholder=\"Enter username\"\n                  required\n                  onChange={(e) => setFormData({ ...formData, username: e.target.value })}\n                />\n                {errors.username && <div className=\"invalid-feedback\">{errors.username}</div>}\n              </div>\n              <div className=\"mb-3\">\n                <label htmlFor=\"password\" className=\"form-label\">\n                  Password\n                </label>\n                <input\n                  type=\"password\"\n                  className={`form-control ${errors.password ? 'is-invalid' : ''}`}\n                  id=\"password\"\n                  placeholder=\"Password\"\n                  required\n                  onChange={(e) => setFormData({ ...formData, password: e.target.value })}\n                />\n                {errors.password && <div className=\"invalid-feedback\">{errors.password}</div>}\n              </div>\n              <div className=\"d-grid\">\n                <button type=\"submit\" className=\"btn btn-dark\">\n                  Login\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n      <Footer />\n    </>\n  );\n}\n\nexport default Login; */","map":{"version":3,"names":[],"sources":["/Users/sebas/Documents/Proyectos/CyberGuard/frontend/src/pages/Login.jsx"],"sourcesContent":["/* import React, { useState } from 'react';\nimport * as Yup from 'yup';\nimport Header from '../components/header/Header';\nimport Footer from '../components/footer/Footer';\nimport API from '../context/Api';\n\nfunction Login() {\n  const [formData, setFormData] = useState({\n    username: '',\n    password: '',\n  });\n\n  const [errors, setErrors] = useState({\n    username: '',\n    password: '',\n  });\n\n  const [loggedIn, setLoggedIn] = useState(false);\n\n  const schema = Yup.object().shape({\n    username: Yup.string().required('Username es obligatorio'),\n    password: Yup.string()\n      .required('Password es obligatorio')\n      .matches(\n        /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,}$/,\n        'Password debe cumplir los requisitos de seguridad.'\n      ),\n  });\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    try {\n      await schema.validate(formData, { abortEarly: false });\n\n      const response = await API.postLogin(formData);\n\n      if (response.success) {\n        const responseData = response.data;\n        API.storeToken(responseData.token);\n        setLoggedIn(true);\n      } else {\n        setErrors({\n          username: '',\n          password: 'Credenciales inválidas',\n        });\n      }\n    } catch (validationErrors) {\n      const errors = {};\n      validationErrors.inner.forEach((error) => {\n        errors[error.path] = error.message;\n      });\n      setErrors(errors);\n    }\n  };\n\n  if (loggedIn) {\n    window.location.href = '/listforms';\n    return null;\n  }\n\n  return (\n    <>\n      <Header />\n      <div className=\"container mt-5 d-flex justify-content-center align-items-center\" style={{ minHeight: '70vh' }}>\n        <div className=\"card w-100\" style={{ maxWidth: '400px' }}>\n          <div className=\"card-header bg-dark text-white text-center\">\n            <h4 className=\"mb-0\">Login</h4>\n          </div>\n          <div className=\"card-body\">\n            <form onSubmit={handleSubmit}>\n              <div className=\"mb-3\">\n                <label htmlFor=\"username\" className=\"form-label\">\n                  Username\n                </label>\n                <input\n                  type=\"text\"\n                  className={`form-control ${errors.username ? 'is-invalid' : ''}`}\n                  id=\"username\"\n                  placeholder=\"Enter username\"\n                  required\n                  onChange={(e) => setFormData({ ...formData, username: e.target.value })}\n                />\n                {errors.username && <div className=\"invalid-feedback\">{errors.username}</div>}\n              </div>\n              <div className=\"mb-3\">\n                <label htmlFor=\"password\" className=\"form-label\">\n                  Password\n                </label>\n                <input\n                  type=\"password\"\n                  className={`form-control ${errors.password ? 'is-invalid' : ''}`}\n                  id=\"password\"\n                  placeholder=\"Password\"\n                  required\n                  onChange={(e) => setFormData({ ...formData, password: e.target.value })}\n                />\n                {errors.password && <div className=\"invalid-feedback\">{errors.password}</div>}\n              </div>\n              <div className=\"d-grid\">\n                <button type=\"submit\" className=\"btn btn-dark\">\n                  Login\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n      <Footer />\n    </>\n  );\n}\n\nexport default Login; */\n\n\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}